(function(a,b){if('function'==typeof define&&define.amd)define(['exports','lodash/forEach','lodash/isNumber','lodash/isFunction','lodash/uniqueId','lodash/remove','lodash/forIn'],b);else if('undefined'!=typeof exports)b(exports,require('lodash/forEach'),require('lodash/isNumber'),require('lodash/isFunction'),require('lodash/uniqueId'),require('lodash/remove'),require('lodash/forIn'));else{var d={exports:{}};b(d.exports,a.forEach,a.isNumber,a.isFunction,a.uniqueId,a.remove,a.forIn),a.viewportDetection=d.exports}})(this,function(a,b,d,e,f,g,h){'use strict';function j(u){return u&&u.__esModule?u:{default:u}}function l(u,x){if(!(u instanceof x))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(a,'__esModule',{value:!0});var m=j(b),n=j(d),o=j(e),p=j(f),q=j(g),r=j(h),s=function(){function u(x,y){for(var A,z=0;z<y.length;z++)A=y[z],A.enumerable=A.enumerable||!1,A.configurable=!0,'value'in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}return function(x,y,z){return y&&u(x.prototype,y),z&&u(x,z),x}}();_remove=q.default;var t=function(){function u(x){l(this,u),this.breakpoints={mobile:{st:0,fn:767},tablet:{st:768,fn:992},desktop:{st:993,fn:'max'}},this.currentWidth=0,this.callbacks=[],this.trackerCalled=!1,(0,o.default)(x)&&(this.id=this.addCallback(x))}return s(u,[{key:'addCallback',value:function(y){var z=this.id=(0,p.default)();if((0,o.default)(y))this.callbacks.push({cb:y,id:z});else throw new Error('Not a function');return z}}]),s(u,[{key:'checkWidths',value:function(y,z,A){return'max'===A&&y>=z||y>=z&&y<=A}},{key:'getDevice',value:function(){var y=this,z=this.windowSize().width,A='desktop';return(0,r.default)(this.breakpoints,function(B,C){y.checkWidths(z,B.st,B.fn)&&(A=C)}),A}},{key:'getWidth',value:function(y){return(0,n.default)(y)&&(this.currentWidth=y),this.currentWidth}},{key:'getLastId',value:function(){return this.id}},{key:'init',value:function(){var y=this,z=function tracker(){y.resizeFn()};window.addEventListener('resize',z,!1),window.addEventListener('orientationchange',z,!1)}},{key:'isSmartDevice',value:function(){var y=window.navigator.userAgent||window.navigator.vendor||window.opera,z=/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/;return z.test(y)}},{key:'removeCallback',value:function(y){return(0,q.default)(this.callbacks,function(z){return z.id===y})}},{key:'resizeFn',value:function(){var y=this.windowSize();this.sizeChange(y.width)&&this.runCallBacks(y)}},{key:'runCallBacks',value:function(y){var z=this.getDevice(y.width);(0,m.default)(this.callbacks,function(A){A.cb(z,y)})}},{key:'sizeChange',value:function(y){return this.currentWidth!==y&&(this.currentWidth=y,!0)}},{key:'touchSupport',value:function(){return window.touch}},{key:'trackSize',value:function(y){var z=this.addCallback(y);return this.trackerCalled||window.addEventListener('DOMContentLoaded',this.init.bind(this),!1),z}},{key:'windowSize',value:function(){return{height:window.innerHeight,width:window.innerWidth}}}]),u}();a.default=t});